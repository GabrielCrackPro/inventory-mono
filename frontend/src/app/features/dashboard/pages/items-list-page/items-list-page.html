<div class="h-full flex flex-col py-4 px-6">
  @if (items().length !== 0) {

  <hia-items-list-header
    [itemsCount]="items().length"
    [selectedCount]="selectedItems().length"
    [selectMode]="selectMode()"
    [viewOptions]="viewOptions()"
    [defaultView]="defaultView()"
    [tableActions]="tableActions()"
    [showSettings]="viewMode() === 'table'"
    (toggleSelectMode)="toggleSelectMode()"
    (changeViewMode)="changeViewMode($event)"
    (settingsClick)="onSettingsClick()"
  />
  }
  <div class="flex-1 h-full min-h-0 overflow-auto">
    @if (loading()) {
    <hia-item-list-page-skeleton [variant]="viewMode()" />
    } @else if (items().length === 0) {
    <div class="h-full flex items-center justify-center p-6">
      <z-card class="w-full max-w-5xl mx-auto p-12 min-h-96 flex items-center justify-center">
        <div class="flex flex-col gap-3">
          <z-empty zIcon="Box" [zIconSize]="40" zDescription="No items yet" />
          <z-button [label]="'Add Item'" iconName="Plus" routerLink="items/new" />
        </div>
      </z-card>
    </div>
    } @else {
    <div class="h-full">
      @if (viewMode() === 'grid') {
      <div class="h-full animate-fade-in-up">
        <hia-items-grid-view
          [items]="items()"
          [selectedIds]="selectedIds()"
          [selectMode]="selectMode()"
          (toggleSelect)="onToggleSelect($event)"
          (toggleSelectAll)="onToggleSelectAll($event)"
        />
      </div>
      } @else {
      <div class="h-full animate-fade-in-up">
        <hia-items-table-view
          [items]="itemsSorted()"
          [columns]="columns()"
          [sortKey]="sortKey()"
          [sortDir]="sortDir()"
          [selectedIds]="selectedIds()"
          (toggleSelect)="onToggleSelect($event)"
          (toggleSelectAll)="onToggleSelectAll($event)"
          (onSort)="setSort($event)"
        />
      </div>
      }
    </div>
    }
  </div>
</div>
