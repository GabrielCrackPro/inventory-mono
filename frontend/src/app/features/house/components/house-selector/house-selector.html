<div class="space-y-4">
  <div
    class="text-center pb-4 border-b border-border/50 sticky top-0 z-10 bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60"
  >
    <h2 class="text-lg font-semibold text-foreground">{{ dialogTitle() }}</h2>
    <p class="text-sm text-muted-foreground mt-1">{{ dialogDescription() }}</p>
  </div>
  @if (dialogMode() === 'select') {
  <!-- Header -->

  <!-- Loading Skeleton -->
  @if (loading()) {
  <div class="space-y-3 max-h-96 overflow-y-auto">
    @for (item of [1, 2, 3]; track item) {
    <div class="animate-pulse">
      <div class="flex items-center gap-4 p-4 rounded-lg border border-border/50 bg-card">
        <div class="w-12 h-12 rounded-lg bg-muted/50"></div>
        <div class="flex-1 space-y-2">
          <div class="h-4 bg-muted/50 rounded w-3/4"></div>
          <div class="h-3 bg-muted/30 rounded w-1/2"></div>
        </div>
        <div class="w-8 h-8 rounded bg-muted/30"></div>
      </div>
    </div>
    }
  </div>

  <div
    class="pt-4 border-t border-border/50 sticky bottom-0 z-10 bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60"
  >
    <div class="flex items-center justify-between">
      <div class="h-3 bg-muted/30 rounded w-24 animate-pulse"></div>
      <div class="h-3 bg-muted/30 rounded w-20 animate-pulse"></div>
    </div>
  </div>
  } @else {
  <div class="space-y-3 max-h-96 overflow-y-auto flex flex-col gap-2">
    @for (house of houses(); track house.id) {
    <hia-house-card [house]="house" (houseChange)="selectHouse($event)" />
    }
  </div>

  <div
    class="pt-4 border-t border-border/50 sticky bottom-0 z-10 bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60"
  >
    <div class="flex items-center justify-between">
      <p class="text-xs text-muted-foreground">
        {{ houses().length }} house{{ houses().length === 1 ? '' : 's' }} available
      </p>
      <z-button
        label="Add House"
        zType="text"
        zSize="sm"
        iconName="HousePlus"
        (click)="addHouse()"
      />
    </div>
  </div>
  } } @else {
  <!-- Add House -->
  <hia-house-selector-add></hia-house-selector-add>
  }
</div>
